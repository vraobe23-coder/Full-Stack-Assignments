<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Q3 - Form Validation</title>
  <style>
    body{font-family:Arial;padding:16px}
    label{display:block;margin:8px 0}
    input{padding:6px;width:250px}
    .error{color:#b00020;margin-top:6px}
  </style>
</head>
<body>
  <h1>Q3 â€” Form Validation</h1>
  <form id="regForm" novalidate>
    <label>Name: <input id="name" name="name" required></label>
    <label>Email: <input id="email" name="email" type="email" required></label>
    <label>Age: <input id="age" name="age" type="number" required></label>
    <button type="submit">Submit</button>
    <div id="msg" class="error" role="status"></div>
  </form>

  <script>
    const form = document.getElementById('regForm');
    const msg = document.getElementById('msg');

    function isValidEmail(e) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);
    }

    form.addEventListener('submit', function (ev) {
      ev.preventDefault();
      msg.textContent = '';

      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const ageVal = document.getElementById('age').value.trim();

      if (name === '') {
        msg.textContent = 'Name cannot be empty.';
        return;
      }

      if (!isValidEmail(email)) {
        msg.textContent = 'Enter a valid email address.';
        return;
      }

      const age = Number(ageVal);
      if (!Number.isFinite(age) || age < 18 || age > 100) {
        msg.textContent = 'Age must be a number between 18 and 100.';
        return;
      }

      msg.style.color = 'green';
      msg.textContent = 'Validation successful. Form can be submitted.';
      setTimeout(()=>{ msg.style.color=''; }, 3000);
    });
  </script>
</body>
</html>
